<ion-header>
  <ion-toolbar>
      <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>
    <ion-title>Job Details</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
    <ion-grid>
        <ion-row>
          <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4" style="display: none;">
            <ion-label>Function</ion-label>
            <ion-input style="background-color: #d4d4d4!important;" class="form-control" [disabled]="true"
              [(ngModel)]="function"></ion-input>
          </ion-col>

          <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
            <ion-label class="ContentName">Branch</ion-label>
            <ion-input style="background-color: #d4d4d4!important;" class="form-control" [disabled]="true"
              [(ngModel)]="branch"></ion-input>
          </ion-col>
        </ion-row>
          <ion-card style="background-color:#fff">

            <ion-row style="margin: 10px;">
              <ion-col size="6">
                <ion-label class="labelHead-text"> WO Number</ion-label>
                <ion-label class="labelData-text">{{work_num}}</ion-label>
              </ion-col>

              <ion-col size="6">
                <ion-label class="labelHead-text"> Asset Code</ion-label>
                <ion-label class="labelData-text">{{AssetCodeComp}}</ion-label>
              </ion-col>

              <ion-col size="6">
                <ion-label class="labelHead-text"> Activity Description</ion-label>
                <ion-label class="labelData-text">{{activity}}</ion-label>
              </ion-col>

              <ion-col size="6">
                <ion-label class="labelHead-text">PM Type</ion-label>
                <ion-label class="labelData-text" *ngIf="assetpmtype == 'T'">Time Based</ion-label>
                <ion-label class="labelData-text" *ngIf="assetpmtype == 'C'">Counter Based</ion-label>
              </ion-col>

              <ion-col size="6">
                <ion-label class="labelHead-text">Maintenance Duration</ion-label>
                <ion-label class="labelData-text">{{maintanance}}</ion-label>
              </ion-col>

              <ion-col size="6">
                <ion-label class="labelHead-text">Start Date</ion-label>
                <ion-label class="labelData-text">{{this.startDate}}</ion-label>
              </ion-col>

              <ion-col size="6">
                <ion-label class="labelHead-text">Asset Reference</ion-label>
                <ion-label class="labelData-text">{{assetreference}}</ion-label>
              </ion-col>

              <ion-col size="6">
                <ion-label class="labelHead-text">Planned Date</ion-label>
                <ion-label class="labelData-text">{{Planneddate | date:'dd/MM/yyyy'}}</ion-label>
              </ion-col>

            </ion-row>

                <ion-row>
                    <!-- <ion-col size-sm="6" size="6" size-md="6" size-lg="6" size-xl="6">
                        <span class="labelHead-text">WO Number</span>
                        {{work_num}}
                    </ion-col> -->
                    <!-- <ion-col size-sm="6" size="6" size-md="6" size-lg="6" size-xl="6">
                        <span class="labelHead-text">Asset Code</span>
                        {{AssetCodeComp}}
                    </ion-col> -->
                    <!-- <ion-col size-sm="6" size="6" size-md="6" size-lg="6" size-xl="6">
                        <span class="labelHead-text">Activity Description</span>
                        {{activity}}
                    </ion-col> -->
                    <!-- <ion-col size-sm="6" size="6" size-md="6" size-lg="6" size-xl="6">
                        <span class="labelHead-text">PM Type</span>
                        <span *ngIf="assetpmtype == 'T'">Time Based</span>
                        <span *ngIf="assetpmtype == 'C'">Counter Based</span>
                    </ion-col> -->
                    <!-- <ion-col size-sm="6" size="6" size-md="6" size-lg="6" size-xl="6">
                        <span class="labelHead-text">Maintenance Duration</span>
                        {{maintanance}}
                    </ion-col> -->
                    <!-- <ion-col size-sm="6" size="6" size-md="6" size-lg="6" size-xl="6">
                        <span class="labelHead-text">Start Date</span>
                        {{start| date:'dd/MM/yyyy'}}
                    </ion-col> -->
                    <!-- <ion-col size-sm="6" size="6" size-md="6" size-lg="6" size-xl="6">
                        <span class="labelHead-text">Asset Reference</span>
                        {{assetreference}}
                    </ion-col> -->
                    <!-- <ion-col size-sm="6" size="6" size-md="6" size-lg="6" size-xl="6">
                        <span class="labelHead-text">Planned Date</span>
                        {{Planneddate | date:'dd/MM/yyyy'}}
                    </ion-col> -->
                </ion-row>

            </ion-card>
            <ion-row>
            <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4" *ngIf="comshow">
                <ion-label class="ContentName">Reopen Reason <span style="color:red;margin-left: 5px;">*</span></ion-label>
        <ion-textarea maxlength="4000" disabled style="height:auto !important" class="form-control" [(ngModel)]="remarks">{{comshow}}
        </ion-textarea>
        <span *ngIf="remarks && remarks != 'undefined' && remarks.length > 0"
          class="customCounter">{{4000 - remarks.length}}</span>

              </ion-col>

                <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
                <ion-label class="ContentName">End Date<span style="color:red;margin-left: 5px;">*</span></ion-label>
                <ion-input type="date" class="form-control" [(ngModel)]="endDate" [min]="today1" >
                  <!-- <ion-icon name="calendar" style="padding: 5px;"></ion-icon> -->
                </ion-input>
              </ion-col>

              <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
                <ion-label class="ContentName">Task Carried Out <span style="color:red;margin-left: 5px;">*</span></ion-label>
        <ion-textarea maxlength="4000" [(ngModel)]="taskCarried" style="height:auto !important" class="form-control">
        </ion-textarea>
        <span *ngIf="taskCarried && taskCarried != 'undefined' && taskCarried.length > 0"
          class="customCounter">{{4000 - taskCarried.length}}</span>

        </ion-col>
        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
            <ion-label class="ContentName">Task Done By</ion-label>
            <ion-input style="background-color: #d4d4d4!important;" class="form-control"
              [(ngModel)]="loginuser" disabled="true"></ion-input>
        </ion-col>

              <ion-col size-sm="6" size="6" size-md="6" size-lg="6" size-xl="4">
                <ion-item style="background: none !important; border: none !important;color: darkslategray;--background-hover:none !important;" lines="none">
                    <!-- <ion-radio mode="md" item-left value="YES" color="danger" [(ngModel)]="relesestatus"></ion-radio> -->
                    <ion-label style="padding-left: 5%;">Release</ion-label>
                    <ion-checkbox slot="start" [(ngModel)]="relesestatus"></ion-checkbox>

                  </ion-item>
              </ion-col>
            <ion-row size-sm="12" size="12" size-md="12" size-lg="12" size-xl="12" style="width: 100%;">
              <ion-col size-sm="4" size="4" size-md="4" size-lg="4" size-xl="4">
                <ion-button  [disabled]="(endDate == undefined || taskCarried==undefined)"
                  (click)="insert(endDate,relesestatus)" class="ion-color-success">Save
                </ion-button>
              </ion-col>
              <ion-col size-sm="4" size="4" size-md="4" size-lg="4" size-xl="4">
                <ion-button (click)="previous()" style="--background:red">Cancel
                </ion-button>
            </ion-col>
            <ion-col size-sm="4" size="4" size-md="4" size-lg="4" size-xl="4">
                <ion-button (click)="go()" style="--background:#009689">List
                </ion-button>
            </ion-col>
        </ion-row>
        </ion-row>
    </ion-grid>
</ion-content>
