<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Purchase Request</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div style="margin: 10px 0px;"><span style="font-size: 24px;margin: 10px ;color: black;" (click)="togglefilter()"><i
        class="fa fa-filter" aria-hidden="true"></i></span></div>

  <ion-card *ngIf="showfilter">

    <ion-grid *ngIf="showlineItems===true">
      <ion-row>
        <!-- <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel" >Company Name</ion-label>
          <ion-input disabled="" style=" background-color: #d4d4d4!important; display:inline-block;padding: 8px;"
            type="text" class="Input-text-field textareaField"></ion-input>
        </ion-col> -->

        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">Branch</ion-label>
          <select style="padding: 10px;" [(ngModel)]="branch" disabled=""
            style=" background-color: #d4d4d4!important; display:inline-block;padding: 8px;"
            class="Input-text-field textareaField">
            <option>&lt;&lt; Select &gt;&gt;</option>
            <!-- <ion-option *ngFor="let items of Vendors_Item_uom" value="{{items.VAL}}">{{items.TEXT}}</ion-option> -->
          </select>
        </ion-col>
        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">Requisition Date</ion-label>
          <ion-input type="date" [(ngModel)]="Requisitiondate" disabled=""
            style=" background-color: #d4d4d4!important; display:inline-block;padding: 8px;"
            class="Input-text-field textareaField"></ion-input>
          <!-- [(ngModel)]="VendorQuot.qty" -->
        </ion-col>

        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">PRS Code</ion-label>
          <ion-input type="text" [(ngModel)]="prscode" disabled=""
            style=" background-color: #d4d4d4!important; display:inline-block;padding: 8px;"
            class="Input-text-field textareaField"></ion-input>
          <!-- [(ngModel)]="VendorQuot.qty" -->
        </ion-col>

        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">PRS Mode</ion-label>
          <select style="padding: 10px;" [(ngModel)]="prsmode" class="Input-text-field textareaField">
            <option>&lt;&lt; Select &gt;&gt;</option>
            <option value="Quotation"> Quotation</option>
            <option value="Direct"> Direct</option>
            <option value="Blanket"> Blanket</option>
            <option value="Tender">Tender</option>
            <!-- <ion-option *ngFor="let items of Vendors_Item_uom" value="{{items.VAL}}">{{items.TEXT}}</ion-option> -->
          </select>
        </ion-col>


        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">requestby</ion-label>
          <ion-input type="text" [(ngModel)]="requestby" class="Input-text-field textareaField"></ion-input>
          <!-- [(ngModel)]="VendorQuot.qty" -->
        </ion-col>

        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">Reference If Any</ion-label>
          <ion-input type="text" [(ngModel)]="referenceifany" class="Input-text-field textareaField"></ion-input>
          <!-- [(ngModel)]="VendorQuot.qty" -->
        </ion-col>

        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">Reason For Purchase</ion-label>
          <ion-input type="text" [(ngModel)]="reasonpurchase" class="Input-text-field textareaField"></ion-input>
          <!-- [(ngModel)]="VendorQuot.unitprice" -->
        </ion-col>


        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">Order</ion-label>
          <select style="padding: 10px;" [(ngModel)]="order" class="Input-text-field textareaField">
            <option>&lt;&lt; Select &gt;&gt;</option>
            <!-- <ion-option *ngFor="let items of Vendors_Item_uom" value="{{items.VAL}}">{{items.TEXT}}</ion-option> -->
          </select>
        </ion-col>

        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">RFP Comments</ion-label>
          <ion-input type="text" [(ngModel)]="rfpcomments" class="Input-text-field textareaField"></ion-input>
          <!-- [(ngModel)]="VendorQuot.unitprice" -->
        </ion-col>



        <ion-row>
          <ion-col size="6">
            <div style="padding: 12px;display: flex;">
              <ion-checkbox class="checkboxbg" [(ngModel)]="release" [value]="true"></ion-checkbox> &nbsp; &nbsp;
              <ion-label class="ContentName">Release</ion-label>
            </div>
          </ion-col>
          <ion-col size="6">
            <div style="padding: 12px;display: flex;">

              <ion-label class="ContentName">Current Status : <span *ngIf="release===false">New</span><span
                  *ngIf="release===true">Pending</span>
              </ion-label>
            </div>
          </ion-col>

        </ion-row>

        <!-- <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4" style="text-align: center;">
          <ion-button (click)="showline()" class="ion-color-success" expand="block">
            <ion-icon style="color: #fff;" name="add-circle-outline"></ion-icon> Add Item
          </ion-button>
        </ion-col> -->
        <!-- for view mode -->


        <ion-card style="width: -webkit-fill-available;">
          <!-- <ion-card style="width: -webkit-fill-available;" *ngIf="showviewlist"> -->
          <ion-card-header class="card_header" *ngFor="let item of data;">
            <ion-row>
              <ion-col size="9">
                <ion-label class="plabel" style="color:white ;"> {{item.Description}} </ion-label>
              </ion-col>
              <ion-col size="3">
                <ion-label class="card_header_text">
                  <ion-icon style="color: #fff;" name="create-outline"></ion-icon>
                </ion-label>
                <ion-label class="card_header_text">
                  <ion-icon style="color: red;" name="trash-outline"></ion-icon>
                </ion-label>
              </ion-col>

            </ion-row>
          </ion-card-header>

          <ion-card-content class="card_content" *ngFor="let item of getlistitems;">
            <ion-row>
              <ion-col size="6">
                <ion-label class="card_content_label labelHead-text">Category :</ion-label>
              </ion-col>
              <ion-col size="6">
                <label class="labelData-text">{{item.Category}}</label>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="6">
                <ion-label class="card_content_label labelHead-text">Item/Service :</ion-label>
              </ion-col>
              <ion-col size="6">
                <ion-label class="labelData-text"> {{item.item}}</ion-label>
              </ion-col>
            </ion-row>

            <!-- <ion-row>
              <ion-col size="6">
                <ion-label class="card_content_label labelHead-text">Description :</ion-label>
              </ion-col>
              <ion-col size="6">
                <ion-label class="labelData-text">
            {{itemdata.Address1||"-"}},<br>{{itemdata.Address2||"-"}},<br>{{itemdata.City||"-"}} -
            {{itemdata.ZIPCode||"-"}}</ion-label>
              </ion-col>
            </ion-row> -->

            <ion-row>
              <ion-col size="6">
                <ion-label class="card_content_label labelHead-text">QTY :</ion-label>
              </ion-col>
              <ion-col size="6">
                <ion-label class="labelData-text">{{item.qty}}</ion-label>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="6">
                <ion-label class="card_content_label labelHead-text">Unit Price :</ion-label>
              </ion-col>
              <ion-col size="6">
                <ion-label class="labelData-text">{{item.unitprice}}</ion-label>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="6">
                <ion-label class="card_content_label labelHead-text">Net Price :</ion-label>
              </ion-col>
              <ion-col size="6">
                <ion-label class="labelData-text">{{item.netprice}}</ion-label>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="6">
                <ion-label class="card_content_label labelHead-text">Required Before :</ion-label>
              </ion-col>
              <ion-col size="6">
                <!-- <ion-label class="labelData-text"> {{item.Requiredbefore|date:'d/M/yy'}}</ion-label> -->
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="6">
                <ion-label class="card_content_label labelHead-text">Item Detailed Description :</ion-label>
              </ion-col>
              <ion-col size="6">
                <!-- <ion-label class="labelData-text">{{item.itemdescription}}</ion-label> -->
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-card>


        <!-- <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4" style="text-align: center;">
          <ion-button (click)="showline()" class="ion-color-success" expand="block">
            <ion-icon style="color: #fff;" name="add-circle-outline"></ion-icon> Add Items
          </ion-button>
        </ion-col> -->


        <!-- close for view mode -->
      </ion-row>
      <ion-row>
        <ion-col style="text-align: center;">
          <ion-button (click)="showline()" class="ion-color-primary" expand="block">
            <ion-icon style="color: #fff;" name="add-circle-outline"></ion-icon> Add Items
          </ion-button>
        </ion-col>
        <ion-col style="text-align: center;">
          <ion-button (click)="submit()" class="ion-color-success" expand="block">Save</ion-button>
        </ion-col>
        <!-- <ion-col style="text-align: center;">
          <ion-button class="ion-color-success" expand="block">New</ion-button>
        </ion-col> -->
      </ion-row>
    </ion-grid>

  </ion-card>


  <ion-card *ngIf="showfilter">
    <ion-grid *ngIf="showlineItems===false">
      <ion-card-header class="card_header1">
        <ion-row>
          <ion-col size="9">
            <ion-label style="color:white ;">List Items</ion-label>
          </ion-col>
          <!-- <ion-col size="3">
          <ion-label class="card_header_text">
            <ion-icon  (click)="close()"  style="color: red; margin-left: 40px;" name="close-circle-outline"></ion-icon>
          </ion-label>
        </ion-col> -->




        </ion-row>
      </ion-card-header>

      <ion-row>
        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">Category</ion-label>
          <select style="padding: 10px;" [(ngModel)]="Category" class="Input-text-field textareaField">
            <option>&lt;&lt; Select &gt;&gt;</option>
            <option value="items">Items</option>
            <option value="Service">Service</option>
            <!-- <ion-option *ngFor="let items of Vendors_Item_uom" value="{{items.VAL}}">{{items.TEXT}}</ion-option> -->
          </select>
        </ion-col>

        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">Item/Service</ion-label>
          <ion-input type="text" [(ngModel)]="Item" class="Input-text-field textareaField"></ion-input>
          <!-- [(ngModel)]="VendorQuot.qty" -->
        </ion-col>


        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">Description</ion-label>
          <ion-textarea placeholder=" " [(ngModel)]="Description" id="textareaID" class="Input-text-field textareaField"
            style="width:100%;" maxlength="150" required=""></ion-textarea>
          <!-- (ionSelect)="resize()" -->
          <!-- (keyup)="checkTestPressure(this)" -->
          <!-- [(ngModel)]="VendorQuot.remarks" -->
          <!-- <span class="customCounter">{{150 - VendorQuot.remarks.length}}</span> -->
        </ion-col>



        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">QTY</ion-label>
          <ion-input type="text" [(ngModel)]="qty" class="Input-text-field textareaField"></ion-input>
          <!-- [(ngModel)]="VendorQuot.qty" -->
        </ion-col>


        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">Unit Price</ion-label>
          <ion-input type="text" [(ngModel)]="unitprice" class="Input-text-field textareaField"></ion-input>
          <!-- [(ngModel)]="VendorQuot.qty" -->
        </ion-col>



        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">Net Price</ion-label>
          <ion-input type="text" [(ngModel)]="netprice" class="Input-text-field textareaField"></ion-input>
          <!-- [(ngModel)]="VendorQuot.qty" -->
        </ion-col>

        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel">Required Before</ion-label>
          <ion-input type="date" [(ngModel)]="Requiredbefore" class="Input-text-field textareaField"></ion-input>
          <!-- [(ngModel)]="VendorQuot.qty" -->
        </ion-col>


        <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4">
          <ion-label class="plabel"> Item Detailed Description</ion-label>
          <ion-textarea placeholder=" " id="textareaID" [(ngModel)]="itemdescription"
            class="Input-text-field textareaField" style="width:100%;" maxlength="150" required=""></ion-textarea>
          <!-- (ionSelect)="resize()" -->
          <!-- (keyup)="checkTestPressure(this)" -->
          <!-- [(ngModel)]="VendorQuot.remarks" -->
          <!-- <span class="customCounter">{{150 - VendorQuot.remarks.length}}</span> -->
        </ion-col>


        <!-- <ion-col size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4" style="text-align: center;">
          <ion-button (click)="showline()" class="ion-color-success" expand="block">
            <ion-icon style="color: #fff;" name="add-circle-outline"></ion-icon> Add Item
          </ion-button>
        </ion-col> -->
        <!--
        <ion-col style="text-align: center;">
          <ion-button class ="ion-color-primary" expand="block">List</ion-button>
        </ion-col> -->
        <ion-col style="text-align: center;">
          <ion-button (click)="showline()" class="ion-color-success" expand="block">Submit</ion-button>
        </ion-col>
        <ion-col style="text-align: center;">
          <ion-button (click)="close()" class="ion-color-danger" expand="block">close</ion-button>
        </ion-col>


        <!-- <ion-col  size-sm="6" size="12" size-md="6" size-lg="6" size-xl="4" style="text-align: center;">
          <ion-button class ="ion-color-success" expand="block"><ion-icon style="color: #fff;" name="add-circle-outline"></ion-icon> Add Item</ion-button>
        </ion-col> -->
      </ion-row>



    </ion-grid>
  </ion-card>

</ion-content>
<!-- <ion-button class="button button-small button-block  button-full button-balanced schedulebutn"
  color="success" expand="block" type="button" (click)="updateVendorDetails(VendorQuot)" disabled="(VendorQuot.transportcharge==undefined||VendorQuot.transportcharge==''  || VendorQuot.unitprice=='' || VendorQuot.unitprice==undefined ||
  VendorQuot.discount==undefined||VendorQuot.discount=='' || VendorQuot.deliverydate=='' || VendorQuot.deliverydate==undefined )" class="button button-assertive editbut">UPDATE</ion-button>
</ion-content> -->



<!-- for line Items  -->



<ion-footer>
  <ion-row>
    <ion-col size-sm="5" size="6" size-md="5" size-lg="5" size-xl="5">
      © SunSmart Global Inc
    </ion-col>
    <ion-col size-sm="5" size="6" size-md="5" size-lg="5" size-xl="5" style="text-align: right;">
      {{username}}
    </ion-col>
  </ion-row>
</ion-footer>
